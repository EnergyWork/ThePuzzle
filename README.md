# ThePuzzle
Пятнашки
1) Струкутра игры:

	Создание игрового поля
	Отрисовка поля
	Игровой цикл (пока пазл не решён, продолжаем)
		Считываение клавишы (4, 6, 8, 2 с numpad в данном случае)
		Перемещение соответсвующего числа в пустую клетку
		Отрисовка поля
	Конец игры
	
2) Создание игрового поля:

	За начальную точку берется правый нижний угол.

	Более затратный по времени метод заполнения поля - рандом без запоминания занятых клеток,
	однако можно запоминать занятые клетки и выбирать случаюную из гарантированно свободных,
	также можно последовательно заполнить поле и сделать N случайных замен чисел между собой
	
	Более важно, чтобы сгенерированный пазл решался. Для этого следует проверить количество инверсий. Пара чисел, где первое больше второго, - инверсия. 
	Если количество инверсий четно, то пазл решается.

3) Структура программы (реализация на с++)
	
	Класс Game содерит в себе всю логику игры. Хранит матрицу с числами и пару значений x_empty, y_empty, которые указывают на пустую клетку.
	Метод craete_field случайным образом заполняет матрицу field, после приватный метод fix проверяет, решается ли данный пазл, иначе меняет последние два элемента местами,
	чтобы количество инверсий стало четным. 
	Метод is_solved проверяет решен ли пазл за прямой проход по матрице 
	
	В игровом цикле происходит считываение нажатой клавиши методом _getch(), после чего проверяется соответстиве клавишам управления.
	Метод move класа Game перед заменой занчений проверяет граничные условия, после чего путой клетке присваивает хначение передвигаемого числа, 
	а клетку, где находилось число, делает пустой. 
	
	После этих действией происходит перерисовка поля
